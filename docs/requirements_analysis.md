# 🧠 Requirements Analysis for Meet-Kant Project

## 项目概述

Meet-Kant项目是一个以康德（Immanuel Kant）为核心的**多语知识图谱 + RAG检索增强 + 可视化前端**的最小闭环系统。目标是构建一个可本地运行的哲学知识系统，能够回答关于康德哲学的问题，并提供可追溯的证据来源。

## 核心需求分析

### 1. 系统架构需求
- **后端**: 基于FastAPI的API服务，支持Python 3.10+
- **图数据库**: Neo4j或NetworkX替代方案，用于构建知识图谱
- **RAG系统**: 检索增强生成，结合向量检索和图谱查询
- **前端**: 极简Vite + Vue3或纯静态HTML界面
- **许可证**: GPL-3.0

### 2. 功能需求
- **多语言支持**: 中/英/德三种语言的文本索引和检索
- **知识图谱构建**: 包含人物、作品、概念等实体和关系
- **RAG问答**: 用户提问->检索证据->生成回答->回溯证据
- **图谱可视化**: 显示实体关系和邻居节点
- **概念卡片**: 展示哲学概念的定义和关联信息

### 3. 数据模型需求
**实体类型**:
- Person: 人物（如康德、休谟等）
- Work: 作品（如《纯粹理性批判》）
- Concept: 概念（如先验、范畴、定言令式）
- Term: 术语
- Place: 地点
- Event: 事件
- School: 学派

**关系类型**:
- INFLUENCED_BY(Person→Person): 影响关系
- AUTHORED(Person→Work): 著作关系
- DEFINES(Person/Work→Concept/Term): 定义关系
- RELATES_TO(Concept↔Concept): 概念间关系
- OCCURS_IN(Work/Concept→Place/Event): 发生关系
- HAS_EDITION(Work→Work): 版本关系

### 4. 技术栈需求
- **后端**: FastAPI, Uvicorn
- **图数据库**: Neo4j (或NetworkX替代)
- **向量检索**: sentence-transformers, FAISS/Chroma
- **前端**: Vue3, ECharts/vis-network
- **其他**: LangChain可选

### 5. 数据处理需求
- **CSV数据**: 包含id、label、别名(中/英/德)、来源、时间、注释
- **JSONL文本**: 每行一个段落，包含work_id, para_id, lang, text
- **示例数据**: 中/英/德各2-3段真实文本

### 6. API接口需求
- **POST /qa/rag**: 问答接口，输入问题和语言，返回答案、证据和图谱命中的实体
- **GET /graph/neighbor**: 获取图谱邻居节点
- **GET /concept/{id}**: 获取概念卡片信息（可选）

### 7. 部署和运行需求
- **本地运行**: 所有功能必须在本地环境可运行
- **环境配置**: 通过.env文件配置数据库连接和模型路径
- **启动脚本**: 提供从虚拟环境创建到服务启动的完整命令
- **数据导入**: 提供脚本将CSV和JSONL数据导入图数据库和向量库

## 约束条件

### 技术约束
- 不能访问外网，所有依赖必须本地可用
- 代码必须独立粘贴可运行
- 回答必须附带证据引用（work_id + para_id + lang + snippet）
- 支持中/英/德三语混合检索

### 内容约束
- 聚焦康德哲学，特别是三大批判和核心概念
- 中文界面优先
- 真实可测的示例数据

### 架构约束
- 采用MVP最小可行产品模式
- 保持系统可运行性优先
- 文件结构严格按照指定目录组织

## 可选增强功能

1. **概念卡片接口**: `GET /concept/{id}`，提供定义、相关术语和代表段落
2. **一键启动脚本**: Neo4j Docker启动脚本
3. **语言切换**: 前端支持原文/译文切换

## 输出要求

- **完整文件树**: meet-kant/项目结构
- **可运行代码**: 每个文件的完整内容
- **示例数据**: CSV和JSONL格式的样例数据
- **启动指南**: 从环境搭建到服务启动的完整步骤
- **API文档**: 接口调用示例和返回格式

## 关键成功指标

1. 能够在本地环境中完整运行
2. 实现从问题输入到答案输出再到证据追溯的完整RAG闭环
3. 成功构建康德哲学知识图谱
4. 支持多语言检索和回答
5. 前端界面能够清晰展示答案、证据和图谱关系

这个需求分析为后续的代码实现提供了清晰的方向和约束，确保项目能够达到设计目标并保持可运行性。